{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahim/Documents/GitHub/luna-front/app/admin/page.js"],"sourcesContent":["'use client';\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { FaTrash } from 'react-icons/fa';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\n\nexport default function Admin() {\n  const [showAddPopup, setShowAddPopup] = useState(false);\n  const [showListPopup, setShowListPopup] = useState(false);\n  const [companies, setCompanies] = useState([]);\n  const [search, setSearch] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const { bearerKey, user } = useAuth();\n\n  const router = useRouter();\n\n  const fetchCompanies = async () => {\n    try {\n      const response = await axios.get('http://217.195.207.244:8081/users', {\n        headers: { Authorization: `Bearer ${bearerKey}` },\n      });\n      setCompanies(response.data);\n    } catch (error) {\n      console.error('Error fetching companies', error);\n    }\n  };\n\n  const addCompany = async () => {\n    try {\n      await axios.post(\n        'http://217.195.207.244:8081/register',\n        { username, password },\n        { headers: { Authorization: `Bearer ${bearerKey}` } }\n      );\n      setShowAddPopup(false);\n      setUsername('');\n      setPassword('');\n    } catch (error) {\n      console.error('Error adding company', error);\n    }\n  };\n\n  const deleteCompany = async (id) => {\n    try {\n      await axios.delete(`http://217.195.207.244:8081/delete/${id}`);\n      fetchCompanies();\n    } catch (error) {\n      console.error('Error deleting company', error);\n    }\n  };\n\n  if (user !== 'admin') {\n    router.push('/');\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-[#0000cd] \">\n      <div className=\"flex space-x-4\">\n        <button\n          onClick={() => setShowAddPopup(true)}\n          className=\"bg-[#eaf1f7] text-[#00186e] text-3xl px-16 py-12 rounded-lg hover:bg-blue-600\"\n        >\n          +\n        </button>\n        <button\n          onClick={() => {\n            fetchCompanies();\n            setShowListPopup(true);\n          }}\n          className=\"bg-[#eaf1f7] text-[#00186e] text-3xl px-16 py-12 rounded-lg hover:bg-red-600\"\n        >\n          -\n        </button>\n      </div>\n\n      {showAddPopup && (\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg\">\n            <h2 className=\"text-xl text-black font-bold mb-4\">Add Company</h2>\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"border text-black p-2 w-full mb-2 rounded-md\"\n            />\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"border text-black p-2 w-full mb-2 rounded-md\"\n            />\n            <button\n              onClick={addCompany}\n              className=\"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600\"\n            >\n              Add Company\n            </button>\n            <button\n              onClick={() => setShowAddPopup(false)}\n              className=\"ml-2 text-gray-500\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {showListPopup && (\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-96\">\n            <h2 className=\"text-xl text-black font-bold mb-4\">Company List</h2>\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className=\"border text-black p-2 w-full mb-2 rounded-md\"\n            />\n            <ul>\n              {companies\n                .filter((c) => c.username.includes(search))\n                .map((company) => (\n                  <li\n                    key={company.id}\n                    className=\"flex justify-between text-black items-center p-2 border-b\"\n                  >\n                    <span>{company.username}</span>\n                    <FaTrash\n                      onClick={() => deleteCompany(company.id)}\n                      className=\"text-gray-500 hover:text-red-500 cursor-pointer\"\n                    />\n                  </li>\n                ))}\n            </ul>\n            <button\n              onClick={() => setShowListPopup(false)}\n              className=\"mt-4 text-gray-500\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}
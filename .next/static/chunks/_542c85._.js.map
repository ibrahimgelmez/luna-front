{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahim/Documents/GitHub/luna-front/context/AuthContext.js"],"sourcesContent":["'use client';\nimport { useRouter } from 'next/navigation';\nimport { createContext, useState, useContext, useEffect } from 'react';\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [bearerKey, setBearerKey] = useState('');\n  const [isLoading, setIsLoading] = useState(true); // New state for loading\n  const router = useRouter();\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    const storedBearerKey = localStorage.getItem('bearerKey');\n\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n    if (storedBearerKey) {\n      setBearerKey(storedBearerKey);\n    }\n    setIsLoading(false); // Loading is complete\n  }, []);\n\n  useEffect(() => {\n    // Check if loading is done, and if no bearerKey or user, redirect to login\n    if (!isLoading && (!bearerKey || !user)) {\n      router.push('/login');\n    }\n  }, [bearerKey, user, isLoading, router]);\n\n  const login = (userData, token, keepLogged) => {\n    setUser(userData);\n    setBearerKey(token);\n\n    if (keepLogged) {\n      localStorage.setItem('user', JSON.stringify(userData));\n      localStorage.setItem('bearerKey', token);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setBearerKey('');\n\n    localStorage.clear('user');\n    localStorage.clear('bearerKey');\n    router.push('/login');\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{ user, bearerKey, login, logout, setBearerKey }}\n    >\n      {!isLoading && children}{' '}\n      {/* Render children only after loading is complete */}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAEzB,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,wBAAwB;IAC1E,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAE7C,IAAI,YAAY;gBACd,QAAQ,KAAK,KAAK,CAAC;YACrB;YACA,IAAI,iBAAiB;gBACnB,aAAa;YACf;YACA,aAAa,QAAQ,sBAAsB;QAC7C;iCAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,2EAA2E;YAC3E,IAAI,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,IAAI,GAAG;gBACvC,OAAO,IAAI,CAAC;YACd;QACF;iCAAG;QAAC;QAAW;QAAM;QAAW;KAAO;IAEvC,MAAM,QAAQ,CAAC,UAAU,OAAO;QAC9B,QAAQ;QACR,aAAa;QAEb,IAAI,YAAY;YACd,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,aAAa,OAAO,CAAC,aAAa;QACpC;IACF;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa;QAEb,aAAa,KAAK,CAAC;QACnB,aAAa,KAAK,CAAC;QACnB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YAAE;YAAM;YAAW;YAAO;YAAQ;QAAa;;YAErD,CAAC,aAAa;YAAU;;;;;;;AAI/B;GArDa;;QAII,qIAAA,CAAA,YAAS;;;KAJb;AAuDN,MAAM,UAAU;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAW;IAAtC"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahim/Documents/GitHub/luna-front/app/providers.js"],"sourcesContent":["\"use client\";\n\nimport { SessionProvider } from \"next-auth/react\";\nimport { AuthProvider } from \"@/context/AuthContext\";\n\nexport function Providers({ children }) {\n  return (\n    <SessionProvider>\n      <AuthProvider>{children}</AuthProvider>\n    </SessionProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAE;IACpC,qBACE,6LAAC,iJAAA,CAAA,kBAAe;kBACd,cAAA,6LAAC,yHAAA,CAAA,eAAY;sBAAE;;;;;;;;;;;AAGrB;KANgB"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}
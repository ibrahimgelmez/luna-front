{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahim/Documents/GitHub/luna-frontend/context/AuthContext.js"],"sourcesContent":["'use client';\nimport { useRouter } from 'next/navigation';\nimport { createContext, useState, useContext, useEffect } from 'react';\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(\"\");\n  const [bearerKey, setBearerKey] = useState('');\n  const [isLoading, setIsLoading] = useState(true); // Yeni state\n  const router = useRouter();\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    const storedBearerKey = localStorage.getItem('bearerKey');\n\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n    if (storedBearerKey) {\n      setBearerKey(storedBearerKey);\n    }\n    setIsLoading(false); // Yükleme tamamlandı\n  }, []);\n\n  // useEffect(() => {\n  //   if (!isLoading && (!bearerKey || !user)) {\n  //     router.push('/login');\n  //   }\n  // }, [bearerKey, user, isLoading]); // Hem bearerKey hem de user değiştiğinde kontrol et\n\n  const login = (userData, token, keepLogged) => {\n    setUser(userData);\n    setBearerKey(token);\n\n    if (keepLogged) {\n      localStorage.setItem('user', JSON.stringify(userData));\n      localStorage.setItem('bearerKey', token);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setBearerKey('');\n\n    localStorage.removeItem('user');\n    localStorage.removeItem('bearerKey');\n    router.push('/login');\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{ user, bearerKey, login, logout, setBearerKey }}\n    >\n      {!isLoading && children}{' '}\n      {/* Yüklenme tamamlanmadan önce çocuk bileşenleri render etme */}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD;AAEzB,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,aAAa;IAC/D,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,kBAAkB,aAAa,OAAO,CAAC;YAE7C,IAAI,YAAY;gBACd,QAAQ,KAAK,KAAK,CAAC;YACrB;YACA,IAAI,iBAAiB;gBACnB,aAAa;YACf;YACA,aAAa,QAAQ,qBAAqB;QAC5C;iCAAG,EAAE;IAEL,oBAAoB;IACpB,+CAA+C;IAC/C,6BAA6B;IAC7B,MAAM;IACN,yFAAyF;IAEzF,MAAM,QAAQ,CAAC,UAAU,OAAO;QAC9B,QAAQ;QACR,aAAa;QAEb,IAAI,YAAY;YACd,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,aAAa,OAAO,CAAC,aAAa;QACpC;IACF;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa;QAEb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YAAE;YAAM;YAAW;YAAO;YAAQ;QAAa;;YAErD,CAAC,aAAa;YAAU;;;;;;;AAI/B;GApDa;;QAII,qIAAA,CAAA,YAAS;;;KAJb;AAsDN,MAAM,UAAU;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAW;IAAtC"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///Users/ibrahim/Documents/GitHub/luna-frontend/app/providers.js"],"sourcesContent":["\"use client\";\n\nimport { SessionProvider } from \"next-auth/react\";\nimport { AuthProvider } from \"@/context/AuthContext\";\n\nexport function Providers({ children }) {\n  return (\n    <SessionProvider>\n      <AuthProvider>{children}</AuthProvider>\n    </SessionProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAE;IACpC,qBACE,6LAAC,iJAAA,CAAA,kBAAe;kBACd,cAAA,6LAAC,yHAAA,CAAA,eAAY;sBAAE;;;;;;;;;;;AAGrB;KANgB"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}